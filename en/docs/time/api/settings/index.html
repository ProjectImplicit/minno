<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.74.3" /><META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Settings | </title><meta property="og:title" content="Settings" />
<meta property="og:description" content="Control global settings of minno-time" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/en/docs/time/api/settings/" />

<meta itemprop="name" content="Settings">
<meta itemprop="description" content="Control global settings of minno-time">

<meta itemprop="wordCount" content="1000">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Settings"/>
<meta name="twitter:description" content="Control global settings of minno-time"/>







<link rel="preload" href="/scss/main.min.2b3f0c56cf34795796f776325f0851d09b271972227cc6cb952d02ee2a9955bd.css" as="style">
<link href="/scss/main.min.2b3f0c56cf34795796f776325f0851d09b271972227cc6cb952d02ee2a9955bd.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold"></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link" href="/en/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link active" href="/en/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link" href="/en/blog/" ><span>Blog</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
</div>
</nav>

    </header>
    <div class="container-fluid td-default td-outer">
      <main role="main" class="td-main">
        

<p>Settings that apply to the whole task may be changed using <code>API.addSettings</code>
(see <a href="/docs/core/api">documentation</a>).
Following are the available settings.</p>
<h4 id="logger">Logger</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">logger</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;your/target/url&#39;</span>,
    <span style="color:#a6e22e">pulse</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>,
    <span style="color:#a6e22e">fullpath</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
    <span style="color:#a6e22e">logger</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>(){
        <span style="color:#75715e">// do your mojo here :)
</span><span style="color:#75715e"></span>    }
}
</code></pre></div><p>The logger section is responsible for logging options.</p>
<p><code>url</code>:
Is the url to which we send the logged data (ask your IT team what it should be). You should set this if you want to log your data&hellip;</p>
<p><code>pulse</code>:
After how many rows should we send data to the server.
In case the number of rows is reached during a trial, the player waits until the end of the trial and sends all the log rows it gathered at once.
Regardless of pulse, the player sends all remaining log rows at the end of the task.
This means that it is possible to get pulses holding more or less than &ldquo;pulse&rdquo; rows.
If pulse is not set (or is set to 0) the player will send all data at the end of the task.</p>
<p><code>fullpath</code>:
When using the media path to log media elements (for images and templates), should we use the full path or just the filename (<code>false</code> by default)</p>
<p><code>meta</code>:
An object that is used to extend each logged row. This is useful in case you want to add some global data to the posts (such as server generated user id, or task name).</p>
<p><code>logger</code>:
Accepts a function to replace the existing logging function. (don&rsquo;t touch this if you don&rsquo;t <strong>realy</strong> know what you&rsquo;re doing).
The logger function is called each time a log action is triggered (see interactions: actions <a href="../task/actions">log</a>).
It is responsible for adding a logging row to be sent to the server.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">trialData</span>, <span style="color:#a6e22e">inputData</span>, <span style="color:#a6e22e">actionData</span>,<span style="color:#a6e22e">logStack</span>){
    <span style="color:#75715e">// trialData: the data object from this trial
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// inputData: the input object that triggered this action
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// actionData: the action object that was triggered (it should look like {type:&#39;log&#39;, your:&#39;custom property&#39;})
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// logStack: an array with all previously logged rows
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// the context for this function (&#34;this&#34;) is the original trial object
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// the function should return an object to be pushed into the trial stack, and later be sent to the server
</span><span style="color:#75715e"></span>}
</code></pre></div><p>This is what the default logger looks like:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">trialData</span>, <span style="color:#a6e22e">inputData</span>, <span style="color:#a6e22e">actionData</span>,<span style="color:#a6e22e">logStack</span>){
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">stimList</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_stimulus_collection</span>.<span style="color:#a6e22e">get_stimlist</span>();
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">mediaList</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_stimulus_collection</span>.<span style="color:#a6e22e">get_medialist</span>();

    <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">log_serial</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">logStack</span>.<span style="color:#a6e22e">length</span>,
        <span style="color:#a6e22e">trial_id</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_id</span>,
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span>(),
        <span style="color:#a6e22e">responseHandle</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">inputData</span>.<span style="color:#a6e22e">handle</span>,
        <span style="color:#a6e22e">latency</span><span style="color:#f92672">:</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">inputData</span>.<span style="color:#a6e22e">latency</span>),
        <span style="color:#a6e22e">stimuli</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">stimList</span>,
        <span style="color:#a6e22e">media</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">mediaList</span>,
        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">trialData</span>
    };
};
</code></pre></div><h4 id="canvas">Canvas</h4>
<p>The canvas is the visable part of the player.
This section in the settings controls the shape and appearance of the canvas.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">canvas</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">maxWidth</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">800</span>,
    <span style="color:#a6e22e">proportions</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">0.8</span>
}
</code></pre></div><p>By default Minno attempts to keep the canvas size proportional so that the relationship between stimuli stays consistent.
Therefore it attempts to take up as much screen space as posible while staying true to the <strong>proportion</strong>.</p>
<p><code>proportions</code>:
The proportion settings describes the relationship between the height and width of the canvas
(<em>proportion = height/width</em>).
You can set it either directly as a number (i.e. <code>0.8</code>) or more explicitly as an object (i.e. <code>{width:5,height:4}</code>).<br>
By default it is set to <code>0.8</code>.</p>
<p><code>maxWidth</code>:
The maximum width (in pixels) that the canvas may reach.
This value must be a plain number (i.e. <code>800</code> and not <code>'800px'</code>).
Note that if <code>width</code> is set, then this property is ignored and the canvas size stays static.</p>
<p><code>width</code>:
If width is set, then the canvas size is set to a constant width
(control the hight using the <code>proportions</code> property).
This value must be a plain number (i.e. <code>800</code> and not <code>'800px'</code>).</p>
<p><code>textSize</code>:
Controls the default font size in the canvas.
It takes a single number that represents font size in percentage of the canvas height (similar to the CSS3 <code>vh</code> unit).
By default it is set to 3.
Any stimulus that sets font-size using a relative unit (percent/em) will be relative to this size.
Any stimulus that sets font-size using an absolute unit (px/pt) will be displayed according to the absolute unit.</p>
<p><code>background</code>:
Controls the background color of the whole screen.</p>
<p><code>canvasBackground</code>:
Controls the background color of the player canvas.</p>
<p><code>borderWidth</code>:
Controls the width of the player canvas borders (in pixels).</p>
<p><code>borderColor</code>:
Controls the color of the player canvas borders.</p>
<p><code>css</code>:
Allows you to add any custom css to the canvas (using the jquery css <a href="http://api.jquery.com/css/">API</a>).</p>
<h4 id="base_url">Base_url</h4>
<p>The <code>base_url</code> section is responsible for loading images and templates. It allows the user to pick a base url from which to load all images and templates.
It accepts either an object setting the base url for images and templates or a string that will be used for both images and templates:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// object notation
</span><span style="color:#75715e"></span><span style="color:#a6e22e">base_url</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">image</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;images&#34;</span>,
    <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;templates/&#34;</span>
}

<span style="color:#75715e">// string notation
</span><span style="color:#75715e"></span><span style="color:#a6e22e">base_url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;media/&#34;</span>
</code></pre></div><h4 id="redirect">Redirect</h4>
<p>The redirect setting decides where to redirect the player at the end of the task.
By default, the player simply refreshes the current page.
This option is not used if the endTask hook is set.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">redirect</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;//my.domain.edu&#39;</span>
</code></pre></div><h4 id="hooks">Hooks</h4>
<p>This option is deprecated, please use <a href="#onend"><code>onEnd</code></a> instead.</p>
<h4 id="onend">onEnd</h4>
<p>A function to be called at the end of the task.
For example, the following setting logs the task logs to the console.</p>
<pre><code>API.addSettings(`onEnd`, function(){
    console.log(API.getCurrent().logs);
});
</code></pre><h4 id="meta-data">Meta data</h4>
<p>Meta data is data that should be returned with every request to the server.
Any key value pair in the meta data is added to every post the player makes to the server.
In order to create a post with three keys: json, session_id and task_id - you would write something like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">metaData</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">session_id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">9872356</span>,
    <span style="color:#a6e22e">task_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;43BTW78&#39;</span>
}
</code></pre></div><p>(the json field is the field that holds the player data it is created automaticaly)</p>
<h4 id="preloadimages">preloadImages</h4>
<p>There are times when you want to preload images manually, without relying on minno-time to recognize all your media automatically.
This can be if you are using complex <code>html</code> type media that include images, or if you are using templates to set images.
In these cases there is a convenience setting that allows you to add your images to the preloading queue.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">API</span>.<span style="color:#a6e22e">addSettings</span>(<span style="color:#e6db74">&#39;preloadImages&#39;</span>, [<span style="color:#e6db74">&#39;img1.jpg&#39;</span>, <span style="color:#e6db74">&#39;img2.jpg&#39;</span>, <span style="color:#e6db74">&#39;img3.jpg&#39;</span>]);
</code></pre></div>


      </main>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        
        
	
		<p class="mt-2"><a href="/en/about/">About MinnoJS</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>











<script src="/js/main.min.b201a3c9217360dbc0727dd320ea5f0bfc3f9128a4baa02246fb92034f9442a3.js" integrity="sha256-sgGjySFzYNvAcn3TIOpfC/w/kSikuqAiRvuSA0&#43;UQqM=" crossorigin="anonymous"></script>




  </body>
</html>